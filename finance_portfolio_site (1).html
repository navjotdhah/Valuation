import { Card, CardContent } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, BarChart, Bar } from "recharts";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";

const financials = [
  { year: "2020", revenue: 2112, ebitda: 500, netIncome: -400 },
  { year: "2021", revenue: 3280, ebitda: 820, netIncome: 200 },
  { year: "2022", revenue: 4200, ebitda: 1100, netIncome: 350 },
  { year: "2023", revenue: 4800, ebitda: 1450, netIncome: 600 },
];

const valuation = [
  { metric: "P/E Ratio", wynn: 24, mgm: 19, lvs: 22 },
  { metric: "EV/EBITDA", wynn: 12.5, mgm: 10.1, lvs: 11.3 },
  { metric: "P/B Ratio", wynn: 3.2, mgm: 2.7, lvs: 2.9 },
];

export default function FinanceShowcase() {
  return (
    <div className="p-6 space-y-6">
      <h1 className="text-4xl font-bold">Investment Banking Pitch: Wynn Resorts</h1>
      <p className="text-lg text-muted-foreground">An advanced analysis showcasing key financial metrics, valuation multiples, and competitor benchmarking to demonstrate technical expertise in investment banking.</p>

      <Tabs defaultValue="financials">
        <TabsList>
          <TabsTrigger value="financials">Financials</TabsTrigger>
          <TabsTrigger value="valuation">Valuation</TabsTrigger>
          <TabsTrigger value="summary">Pitch Summary</TabsTrigger>
        </TabsList>

        <TabsContent value="financials">
          <Card>
            <CardContent className="p-4">
              <h2 className="text-2xl font-semibold mb-4">Key Financial Trends</h2>
              <ResponsiveContainer width="100%" height={300}>
                <LineChart data={financials}>
                  <CartesianGrid strokeDasharray="3 3" />
                  <XAxis dataKey="year" />
                  <YAxis />
                  <Tooltip />
                  <Legend />
                  <Line type="monotone" dataKey="revenue" stroke="#8884d8" name="Revenue ($M)" />
                  <Line type="monotone" dataKey="ebitda" stroke="#82ca9d" name="EBITDA ($M)" />
                  <Line type="monotone" dataKey="netIncome" stroke="#ffc658" name="Net Income ($M)" />
                </LineChart>
              </ResponsiveContainer>
            </CardContent>
          </Card>
        </TabsContent>

        <TabsContent value="valuation">
          <Card>
            <CardContent className="p-4">
              <h2 className="text-2xl font-semibold mb-4">Valuation Multiples Comparison</h2>
              <ResponsiveContainer width="100%" height={300}>
                <BarChart data={valuation} layout="vertical">
                  <CartesianGrid strokeDasharray="3 3" />
                  <XAxis type="number" />
                  <YAxis dataKey="metric" type="category" />
                  <Tooltip />
                  <Legend />
                  <Bar dataKey="wynn" fill="#007aff" name="Wynn" />
                  <Bar dataKey="mgm" fill="#34c759" name="MGM" />
                  <Bar dataKey="lvs" fill="#ff3b30" name="Las Vegas Sands" />
                </BarChart>
              </ResponsiveContainer>
            </CardContent>
          </Card>
        </TabsContent>

        <TabsContent value="summary">
          <Card>
            <CardContent className="p-4 space-y-4">
              <h2 className="text-2xl font-semibold">Investment Thesis: Wynn Resorts</h2>
              <ul className="list-disc list-inside text-md">
                <li><strong>Strong EBITDA growth:</strong> Demonstrates operating efficiency post-COVID recovery.</li>
                <li><strong>Attractive EV/EBITDA multiple:</strong> Slightly above peers, indicating pricing power and premium brand value.</li>
                <li><strong>Luxury positioning:</strong> Wynnâ€™s exposure to premium customers offers resilience to macro pressures.</li>
                <li><strong>Competitor Watch:</strong> MGM has diversified assets but less premium positioning; LVS strong in Asia but faces regulatory headwinds.</li>
                <li><strong>Buy-side recommendation:</strong> Entry at moderate P/E with upside from Asia expansion and margin expansion in Vegas properties.</li>
              </ul>
              <Button className="mt-4">Download Full Pitch Deck (PDF)</Button>
            </CardContent>
          </Card>
        </TabsContent>
      </Tabs>
    </div>
  );
}

